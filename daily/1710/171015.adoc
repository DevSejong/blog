# [171015] Today I Learned

## 정규표현식

* 문자열("abcd", "test1234")을 대상. 조건(/^/, /$/)을 지정.
* 자바스크립트에서는 해당 메서드를 지원 : match() replace() search() split() exec() test()

### 메서드 사용법

* match메서드는 문자열.match(패턴)
** `"sports".match(/sp/)`
* test메서드는 패턴.test(문자열)
** `/^\-?\d+?/.test("12345")`
* exec는 잘 사용하지 않는다고 함
** `let reg = new RegExp(/w/); reg.exec("1234");`

### 문자열 매치

* "sports".match(/sp/) // 반환값 [sp]
* "sports".match(/s/) // 반환값 [s]
** 처음의 "s"만 결과값으로 나오며, 더이상 매치하지 않습니다.

### 플래그

"SPORTS".match(/sp/i) 와 같이 플래그를 주어 부가옵션을 사용할 수 있다.

* i : ignore case
* g : global 반복하여 패턴매치 진행하고 모든 문자열을 배열로 반환
* m : multiline
* u : unicode 패턴을 유니코드로 인식
* y : sticky 마지막 인덱스부터 시작
** 매치된 다음 위치를 lastIndex에 저장하고 다음에 매치하는 경우 이 위치부터 매치 진행 global을 이용하는 경우와 다르게 순차적으로 가져올 수 있으므로 성능상 이득을 얻을 수 있음

#### 대체 "|"

대체(alternative) `"34_56".match(/34/56/);`

* 왼쪽과 오른쪽을 모두 매치하여 관리영역에 저장
* 인덱스값이 가장 작은 값을 우선으로 반환하게 됨
* `"abcdef".match(/c|abc|a|def/)` 인경우 abc가 우선순위이므로 해당값이 반환됨

### 문자매치 "."

* `"sports".match(/.s/)`인 경우 "ts"가 결과로 반환됨
* "."은 아무 문자를 이야기함 공백은 해당안됨
* `"sop,sap,sac,sp".match(/s.p/g)` => ["sop", "sap"]

### 공백문자

* "\t"(수평 탭), "\v"(수직탭 - 잘 안쓰일듯), " "(그냥 공백)

### 줄 분리자

* "\n"(줄바꿈 LineFeed), "\r"(줄바꿈 - 첫위치 Carriage Return)

### 매치 위치 패턴

* "^" 시작부터 검사
** /^12/.test("12_34) // false
* "$" 끝에 매치

### 수량자 패턴

* "+?" : 한번만 매치
** "aaac".match(/aa+?/)
* "*" : 없거나 하나 이상 매치(greedy)
** "aaac".match(/K*/)
* "*?" : 최소 매치
** "aaac".match(/K*?/)
* "?" : 없거나 하나만 매치

#### 하나이상매칭

* "+" : 하나이상 매치(greedy)
** 욕심많은 매치로 가능한 최대로 매치
** "aaac".match(/a+/) => [aaa]
* ".+" : 모든 문자 매칭
** "aaac test".match(/.+/)

### 수에 매칭

* "AAA".match(/A\{2\}/) 두개인경우 매칭시킴
* "AAAKK".match(/A\{2\}K/)
* "AAAKK".match(/A\{2\,}/) ","를 사용하여 2개이상인 항목을 선택할 수 있음
* "AAAKK".match(/A\{2,4\}/) `\{숫자, 숫자\}` 를 이용하면 사잇값에 매칭되는 값들을 가져올 수 있음

"KKAAA".match(/KA*?/g)
"AAAKK".match(/A*?K/g)

### 문자클래스

* "[]" 문자집합. 지정한 문자 단위로 매치
** "abcde".match(/[ab]/)
* "[패턴문자]" 패턴문자(ex "+", "?")를 이스케이프하여 사용할 수 있다.
** "111".match(/[1+]/)
* "[최소-최대]" 최소 최대구간에 속한 값을 매치
** "54321".match(/[0-4]/) => 4
** 앞뒤에 문자를 작성하지 않는경우에는 "-"는 문자로 인식합니다.
* "^" 안에 작성한 문자를 제외한 문자에 매치
** "test".match(/\^[\^a-z]/)

### 이스케이프 클래스

* \d : 숫자만 매치
* \D : 숫자 이외의 문자 매치
* \s : 보이지 않는 문제 매치
* \S : 보이는 문자 매치
* \w : 63개 문자만 매치 (띄워쓰기 제외 아스키코드)
* \W : 이외 문자 매피

### 그룹화

* () : 매치되는 결과 캡쳐 및 그룹화
** `"ABC".match(/(A)/);`
** `(a|b)+`
*** a또는 b에 매치하고 그결과로 하나 이상 매치
** "ABC".match(/((A))/)
* (?:) : 캡쳐하지 않는 그룹
** `"abcdef".match(/ab(?:cd)ef/)`
* (?=) : 전방매치
** `"abcc".match(/ab(?=c)/)`

#### 캡쳐값 참조

* `"test1234".replace(/t(e.)t1234/, "$1")` => es
